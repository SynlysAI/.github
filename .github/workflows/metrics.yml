name: Minimal Metrics
on:
  workflow_dispatch:

permissions:
  contents: write
  actions: read

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    steps:
      - name: Generate Metrics
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: SynlysAI
          template: classic  # 更换为更兼容的模板
          config_timezone: UTC
          
          base: header, repositories  # 增加基础内容
          repositories_forks: false
          repositories: 10
          
          # 只关闭非必要插件，保留一个轻量插件
          plugin_achievements: no
          plugin_followup: no
          plugin_habits: no
          plugin_languages: no
          plugin_traffic: no
          plugin_introduction: yes  # 保留个人简介插件
          
          debug: true  # 开启调试日志